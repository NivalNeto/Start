<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Tabela de aumento e imposto</title>
</head>
<body>
    <h1>Lista de Funcionários</h1>
    <hr/>
    <table border="5" id="tabelaFuncionarios">
        <!--Definir tamanho da tabela, guardar em um id a tabela e os itens presente na lista-->
        <tr>
            <th>Matrícula</th>
            <th>Nome</th>
            <th>Salario (R$)</th>
            <th>Porcentagem Aumento (%)</th>
            <th>Porcentagem Imposto (%)</th>
            <th>Novo Salário</th>
        </tr>
        <tr class="funcionario">
            <td class="info-mat">000111</td>
            <td class="info-nome">João</td>
            <td class="info-salario">1000</td>
            <td class="info-aumento">10</td>
            <td class="info-imposto">5</td>
            <td class="info-novoSalario">--</td>
        </tr>
        <tr class="funcionario">
            <td class="info-mat">000222</td>
            <td class="info-nome">Maria</td>
            <td class="info-salario">1500</td>
            <td class="info-aumento">20</td>
            <td class="info-imposto">8</td>
            <td class="info-novoSalario">--</td>
            <!--Modelos pré definidos de joão e maria, guardados em uma classe na tabela-->
        </tr>
    </table>
    <h2>Dados Funcionário</h2>
    <div>
        <label for="matricula">Matricula</label>
        <input type="text" id="matricula"/>
    </div>
    <div>
        <label for="nome">Nome</label>
        <input type="text" id="nome"/>
    </div>
    <div>
        <label for="salario">Salario</label>
        <input type="text" id="salario"/>
    </div>
    <div>
        <label for="porcAumento">Porcentagem Aumento</label>
        <input type="text" id="porcAumento"/>
    </div>
    <div>
        <label for="porcImposto">Porcentagem Imposto</label>
        <input type="text" id="porcImposto"/>
        <!--caixas de texto para incluir a matricula, nome, salario,aumento e imposto e todos guardados em um id-->
    </div>
    <button id="btnCadastrar">Cadastrar</button>
        <!--botão de cadastrar para confirmar a lista preenchida pelo usuário-->
    <script>
        btnCadastrar.addEventListener ("click", function(){
            let inputMatricula = document.querySelector("#matricula");
            let inputNome = document.querySelector("#nome");
            let inputSalario = document.querySelector("#salario");
            let inputAumento = document.querySelector("#porcAumento");
            let inputImposto = document.querySelector("#porcImposto");
            let table = document.querySelector("#tabelaFuncionarios");
            let tr = document.createElement("tr");
            let tdMatricula = document.createElement("td");
            let tdNome = document.createElement("td");
            let tdSalario = document.createElement("td");
            let tdAumento = document.createElement("td");
            let tdImposto = document.createElement("td");
            let tdNovoSalario = document.createElement("td");
            tr.classList = "funcionario";
            table.appendChild(tr);
            tdMatricula.textContent = inputMatricula.value;
            tdMatricula.classList = "info-mat";
            tr.appendChild(tdMatricula);
            tdNome.textContent = inputNome.value;
            tdNome.classList = "info-nome";
            tr.appendChild(tdNome);
            tdSalario.textContent = inputSalario.value;
            tdSalario.classList = "info-salario";
            tr.appendChild(tdSalario);
            tdAumento.textContent = inputAumento.value;
            tdAumento.classList = "info-aumento";
            tr.appendChild(tdAumento);
            tdImposto.textContent = inputImposto.value;
            tdImposto.classList = "info-imposto";
            
            tr.appendChild(tdImposto);
            tdNovoSalario.textContent = parseFloat(tdSalario.textContent) + (parseFloat(tdSalario.textContent)*parseFloat(tdAumento.textContent)/100) - (parseFloat(tdSalario.textContent)*parseFloat(tdImposto.textContent)/100);
            tdNovoSalario.classList = "info-novoSalario";
            tr.appendChild(tdNovoSalario);
        })
        let funcionarios = document.querySelectorAll(".funcionario");
        console.log(funcionarios.length);
        for(let funcionario of funcionarios){
            let salario = parseFloat(funcionario.querySelector(".info-salario").textContent)
            let aumento = parseFloat(funcionario.querySelector(".info-aumento").textContent)
            let imposto = parseFloat(funcionario.querySelector(".info-imposto").textContent)
            let novoSalario = funcionario.querySelector(".info-novoSalario")
            let nSalario = salario + (salario*aumento/100) - (salario*imposto/100)
            novoSalario.textContent = nSalario
        }
    </script> <!--toda parte funcional do texto está presente aqui, todos os let estão sendo definidos para
                  gerar dados na tabela e não serem pré definidos como aconteceu com maria e joao, todos os appendChild para adicionar valores novos na tabela e 
                  o ultimo com imposto em float para n ocorrer erro na definção do valor.-->
</body>
</html>
